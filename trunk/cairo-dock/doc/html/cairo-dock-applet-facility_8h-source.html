<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Cairo-Dock:  Fichier source de src/cairo-dock-applet-facility.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Généré par Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Page&nbsp;principale</span></a></li>
    <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
    <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
  </ul>
</div>
<h1>src/cairo-dock-applet-facility.h</h1><a href="cairo-dock-applet-facility_8h.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef __CAIRO_DOCK_APPLET_FACILITY__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define  __CAIRO_DOCK_APPLET_FACILITY__</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#include "<a class="code" href="cairo-dock-struct_8h.html">cairo-dock-struct.h</a>"</span>
<a name="l00006"></a>00006 
<a name="l00020"></a>00020 gchar *<a class="code" href="cairo-dock-applet-facility_8h.html#55073690cc61234d715457132a54026e">cairo_dock_check_conf_file_exists</a> (gchar *cUserDataDirName, gchar *cShareDataDir, gchar *cConfFileName);
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#f298aaa4399caa2ce52f2e775eeb1c97">cairo_dock_set_icon_surface</a> (cairo_t *pIconContext, cairo_surface_t *pSurface);
<a name="l00035"></a>00035 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#620ff5ba88d39637f6de466867424edd">cairo_dock_add_reflection_to_icon</a> (cairo_t *pIconContext, <a class="code" href="struct__Icon.html">Icon</a> *pIcon, <a class="code" href="struct__CairoDock.html">CairoDock</a> *pDock);
<a name="l00043"></a>00043 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#27d7e4bfd22731afc1b86dea90d283a1">cairo_dock_set_icon_surface_with_reflect</a> (cairo_t *pIconContext, cairo_surface_t *pSurface, <a class="code" href="struct__Icon.html">Icon</a> *pIcon, <a class="code" href="struct__CairoDock.html">CairoDock</a> *pDock);
<a name="l00051"></a>00051 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#bd79e6d36309e19bc5d9680236fb0cf3">cairo_dock_set_image_on_icon</a> (cairo_t *pIconContext, gchar *cImagePath, <a class="code" href="struct__Icon.html">Icon</a> *pIcon, <a class="code" href="struct__CairoDock.html">CairoDock</a> *pDock);
<a name="l00052"></a>00052 
<a name="l00060"></a>00060 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#e43c71f687d8b0042dfe38830fe4f15e">cairo_dock_set_icon_name</a> (cairo_t *pSourceContext, <span class="keyword">const</span> gchar *cIconName, <a class="code" href="struct__Icon.html">Icon</a> *pIcon, <a class="code" href="struct__CairoDock.html">CairoDock</a> *pDock);
<a name="l00061"></a>00061 
<a name="l00068"></a>00068 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#08c39505bfe2941f34391c1c8614b6bc">cairo_dock_set_quick_info</a> (cairo_t *pSourceContext, <span class="keyword">const</span> gchar *cQuickInfo, <a class="code" href="struct__Icon.html">Icon</a> *pIcon);
<a name="l00073"></a><a class="code" href="cairo-dock-applet-facility_8h.html#a018ebb8327854b22c4cd42dbfbe9d9b">00073</a> <span class="preprocessor">#define cairo_dock_remove_quick_info(pIcon) cairo_dock_set_quick_info (NULL, NULL, pIcon)</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a>00075 
<a name="l00083"></a>00083 <span class="keywordtype">void</span> <a class="code" href="cairo-dock-applet-facility_8h.html#bdb9b030d1be18daf86caa31464fb955">cairo_dock_animate_icon</a> (<a class="code" href="struct__Icon.html">Icon</a> *pIcon, <a class="code" href="struct__CairoDock.html">CairoDock</a> *pDock, <a class="code" href="cairo-dock-struct_8h.html#72c6f286d96c028feb8d4516820b74d9">CairoDockAnimationType</a> iAnimationType, <span class="keywordtype">int</span> iNbRounds);
<a name="l00084"></a>00084 
<a name="l00097"></a>00097 gchar* <a class="code" href="cairo-dock-applet-facility_8h.html#76d8cf8894ee2260ef0b0af7fe7fcd16">cairo_dock_manage_themes_for_applet</a> (gchar *cAppletShareDataDir, gchar *cThemeDirName, gchar *cAppletConfFilePath, GKeyFile *pKeyFile, gchar *cGroupName, gchar *cKeyName, gboolean *bFlushConfFileNeeded, gchar *cDefaultThemeName);
<a name="l00098"></a>00098 
<a name="l00105"></a>00105 GtkWidget *<a class="code" href="cairo-dock-applet-facility_8h.html#769f0ed2faa57c75c3c264771647b64d">cairo_dock_create_sub_menu</a> (gchar *cLabel, GtkWidget *pMenu);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">//\_________________________________ INIT</span>
<a name="l00112"></a><a class="code" href="cairo-dock-applet-facility_8h.html#a0982c52cc4acbf02d0d37a64bba21c5">00112</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_H \</span>
<a name="l00113"></a>00113 <span class="preprocessor">CairoDockVisitCard *pre_init (void);\</span>
<a name="l00114"></a>00114 <span class="preprocessor">Icon *init (CairoDock *pDock, gchar **cAppletConfFilePath, GError **erreur);\</span>
<a name="l00115"></a>00115 <span class="preprocessor">void stop (void);</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117 <span class="comment">//\______________________ pre_init.</span>
<a name="l00126"></a><a class="code" href="cairo-dock-applet-facility_8h.html#fabe5696ffe3d81893124d929981ba04">00126</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_PRE_INIT_BEGIN(cName, iMajorVersion, iMinorVersion, iMicroVersion) \</span>
<a name="l00127"></a>00127 <span class="preprocessor">Icon *myIcon = NULL;\</span>
<a name="l00128"></a>00128 <span class="preprocessor">CairoDock *myDock = NULL;\</span>
<a name="l00129"></a>00129 <span class="preprocessor">cairo_t *myDrawContext = NULL;\</span>
<a name="l00130"></a>00130 <span class="preprocessor">CairoDockVisitCard *pre_init (void)\</span>
<a name="l00131"></a>00131 <span class="preprocessor">{\</span>
<a name="l00132"></a>00132 <span class="preprocessor">        CairoDockVisitCard *pVisitCard = g_new0 (CairoDockVisitCard, 1);\</span>
<a name="l00133"></a>00133 <span class="preprocessor">        pVisitCard-&gt;cModuleName = g_strdup (cName);\</span>
<a name="l00134"></a>00134 <span class="preprocessor">        pVisitCard-&gt;cReadmeFilePath = g_strdup_printf ("%s/%s", MY_APPLET_SHARE_DATA_DIR, MY_APPLET_README_FILE);\</span>
<a name="l00135"></a>00135 <span class="preprocessor">        pVisitCard-&gt;iMajorVersionNeeded = iMajorVersion;\</span>
<a name="l00136"></a>00136 <span class="preprocessor">        pVisitCard-&gt;iMinorVersionNeeded = iMinorVersion;\</span>
<a name="l00137"></a>00137 <span class="preprocessor">        pVisitCard-&gt;iMicroVersionNeeded = iMicroVersion;\</span>
<a name="l00138"></a>00138 <span class="preprocessor">        pVisitCard-&gt;cPreviewFilePath = g_strdup_printf ("%s/%s", MY_APPLET_SHARE_DATA_DIR, MY_APPLET_PREVIEW_FILE);\</span>
<a name="l00139"></a>00139 <span class="preprocessor">        pVisitCard-&gt;cGettextDomain = g_strdup (MY_APPLET_GETTEXT_DOMAIN);\</span>
<a name="l00140"></a>00140 <span class="preprocessor">        pVisitCard-&gt;cDockVersionOnCompilation = g_strdup (MY_APPLET_DOCK_VERSION);</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>
<a name="l00144"></a><a class="code" href="cairo-dock-applet-facility_8h.html#902888776403f24d855b5074f836e76a">00144</a> <span class="preprocessor">#define CD_APPLET_PRE_INIT_END \</span>
<a name="l00145"></a>00145 <span class="preprocessor">        return pVisitCard;\</span>
<a name="l00146"></a>00146 <span class="preprocessor">}</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="cairo-dock-applet-facility_8h.html#55daad39007731967dda0f91266df39a">00150</a> <span class="preprocessor">#define CD_APPLET_DEFINITION(cName, iMajorVersion, iMinorVersion, iMicroVersion) \</span>
<a name="l00151"></a>00151 <span class="preprocessor">CD_APPLET_PRE_INIT_BEGIN (cName, iMajorVersion, iMinorVersion, iMicroVersion) \</span>
<a name="l00152"></a>00152 <span class="preprocessor">CD_APPLET_PRE_INIT_END</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="comment">//\______________________ init.</span>
<a name="l00162"></a><a class="code" href="cairo-dock-applet-facility_8h.html#d9e04e23f2e7d2a77e37583fb5f39685">00162</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_INIT_BEGIN(erreur) \</span>
<a name="l00163"></a>00163 <span class="preprocessor">Icon *init (CairoDock *pDock, gchar **cAppletConfFilePath, GError **erreur) \</span>
<a name="l00164"></a>00164 <span class="preprocessor">{ \</span>
<a name="l00165"></a>00165 <span class="preprocessor">        myDock = pDock; \</span>
<a name="l00166"></a>00166 <span class="preprocessor">        gchar *cConfFilePath = cairo_dock_check_conf_file_exists (MY_APPLET_USER_DATA_DIR, MY_APPLET_SHARE_DATA_DIR, MY_APPLET_CONF_FILE); \</span>
<a name="l00167"></a>00167 <span class="preprocessor">        int iDesiredWidth = 48, iDesiredHeight = 48; \</span>
<a name="l00168"></a>00168 <span class="preprocessor">        gchar *cAppletName = NULL, *cIconName = NULL; \</span>
<a name="l00169"></a>00169 <span class="preprocessor">        read_conf_file (cConfFilePath, &amp;iDesiredWidth, &amp;iDesiredHeight, &amp;cAppletName, &amp;cIconName); \</span>
<a name="l00170"></a>00170 <span class="preprocessor">        myIcon = cairo_dock_create_icon_for_applet (pDock, iDesiredWidth, iDesiredHeight, cAppletName, cIconName); \</span>
<a name="l00171"></a>00171 <span class="preprocessor">        g_return_val_if_fail (myIcon != NULL, NULL); \</span>
<a name="l00172"></a>00172 <span class="preprocessor">        myDrawContext = cairo_create (myIcon-&gt;pIconBuffer); \</span>
<a name="l00173"></a>00173 <span class="preprocessor">        g_return_val_if_fail (cairo_status (myDrawContext) == CAIRO_STATUS_SUCCESS, NULL);</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span>
<a name="l00177"></a><a class="code" href="cairo-dock-applet-facility_8h.html#cd56d5f4dc1ffae3f9930c9bb0260aad">00177</a> <span class="preprocessor">#define CD_APPLET_INIT_END \</span>
<a name="l00178"></a>00178 <span class="preprocessor">        *cAppletConfFilePath = cConfFilePath; \</span>
<a name="l00179"></a>00179 <span class="preprocessor">        g_free (cAppletName); \</span>
<a name="l00180"></a>00180 <span class="preprocessor">        g_free (cIconName); \</span>
<a name="l00181"></a>00181 <span class="preprocessor">        return myIcon; \</span>
<a name="l00182"></a>00182 <span class="preprocessor">}</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>
<a name="l00184"></a>00184 <span class="comment">//\______________________ stop.</span>
<a name="l00188"></a><a class="code" href="cairo-dock-applet-facility_8h.html#3bb602a8fee1cd45f5a7dc77b039579b">00188</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_STOP_BEGIN \</span>
<a name="l00189"></a>00189 <span class="preprocessor">void stop (void) \</span>
<a name="l00190"></a>00190 <span class="preprocessor">{</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span>
<a name="l00194"></a><a class="code" href="cairo-dock-applet-facility_8h.html#29752d1b78577068d344e6f01252bb57">00194</a> <span class="preprocessor">#define CD_APPLET_STOP_END \</span>
<a name="l00195"></a>00195 <span class="preprocessor">        myDock = NULL; \</span>
<a name="l00196"></a>00196 <span class="preprocessor">        myIcon = NULL; \</span>
<a name="l00197"></a>00197 <span class="preprocessor">        cairo_destroy (myDrawContext); \</span>
<a name="l00198"></a>00198 <span class="preprocessor">        myDrawContext = NULL; \</span>
<a name="l00199"></a>00199 <span class="preprocessor">}</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>
<a name="l00203"></a><a class="code" href="cairo-dock-applet-facility_8h.html#43deb68912fbcf2ee76baacbf64c44a7">00203</a> <span class="preprocessor">#define CD_APPLET_MY_CONF_FILE cConfFilePath</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 <span class="comment">//\_________________________________ CONFIG</span>
<a name="l00213"></a><a class="code" href="cairo-dock-applet-facility_8h.html#3e8589350f2beff44c92e3baae15c7b4">00213</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_CONFIG_BEGIN(cDefaultAppletName, cDefaultIconName) \</span>
<a name="l00214"></a>00214 <span class="preprocessor">void read_conf_file (gchar *cConfFilePath, int *iWidth, int *iHeight, gchar **cAppletName, gchar **cIconName) \</span>
<a name="l00215"></a>00215 <span class="preprocessor">{ \</span>
<a name="l00216"></a>00216 <span class="preprocessor">        GError *erreur = NULL; \</span>
<a name="l00217"></a>00217 <span class="preprocessor">        gboolean bFlushConfFileNeeded = FALSE; \</span>
<a name="l00218"></a>00218 <span class="preprocessor">        GKeyFile *pKeyFile = g_key_file_new (); \</span>
<a name="l00219"></a>00219 <span class="preprocessor">        g_key_file_load_from_file (pKeyFile, cConfFilePath, G_KEY_FILE_KEEP_COMMENTS | G_KEY_FILE_KEEP_TRANSLATIONS, &amp;erreur); \</span>
<a name="l00220"></a>00220 <span class="preprocessor">        if (erreur != NULL) \</span>
<a name="l00221"></a>00221 <span class="preprocessor">        { \</span>
<a name="l00222"></a>00222 <span class="preprocessor">                g_print ("Attention : %s\n", erreur-&gt;message); \</span>
<a name="l00223"></a>00223 <span class="preprocessor">                g_error_free (erreur); \</span>
<a name="l00224"></a>00224 <span class="preprocessor">                return ; \</span>
<a name="l00225"></a>00225 <span class="preprocessor">        } \</span>
<a name="l00226"></a>00226 <span class="preprocessor">        *iWidth = cairo_dock_get_integer_key_value (pKeyFile, "ICON", "width", &amp;bFlushConfFileNeeded, 48, NULL, NULL); \</span>
<a name="l00227"></a>00227 <span class="preprocessor">        *iHeight = cairo_dock_get_integer_key_value (pKeyFile, "ICON", "height", &amp;bFlushConfFileNeeded, 48, NULL, NULL); \</span>
<a name="l00228"></a>00228 <span class="preprocessor">        if (cDefaultAppletName != NULL) \</span>
<a name="l00229"></a>00229 <span class="preprocessor">                *cAppletName = cairo_dock_get_string_key_value (pKeyFile, "ICON", "name", &amp;bFlushConfFileNeeded, cDefaultAppletName, NULL, NULL); \</span>
<a name="l00230"></a>00230 <span class="preprocessor">        if (cDefaultIconName != NULL) \</span>
<a name="l00231"></a>00231 <span class="preprocessor">                *cIconName = cairo_dock_get_string_key_value (pKeyFile, "ICON", "icon", &amp;bFlushConfFileNeeded, cDefaultIconName, NULL, NULL);</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span>
<a name="l00235"></a><a class="code" href="cairo-dock-applet-facility_8h.html#757f9a0ca963a2e1a572673a4b63b823">00235</a> <span class="preprocessor">#define CD_APPLET_CONFIG_END \</span>
<a name="l00236"></a>00236 <span class="preprocessor">        if (! bFlushConfFileNeeded) \</span>
<a name="l00237"></a>00237 <span class="preprocessor">                bFlushConfFileNeeded = cairo_dock_conf_file_needs_update (pKeyFile, MY_APPLET_VERSION); \</span>
<a name="l00238"></a>00238 <span class="preprocessor">        if (bFlushConfFileNeeded) \</span>
<a name="l00239"></a>00239 <span class="preprocessor">                cairo_dock_flush_conf_file (pKeyFile, cConfFilePath, MY_APPLET_SHARE_DATA_DIR);\</span>
<a name="l00240"></a>00240 <span class="preprocessor">        g_key_file_free (pKeyFile); \</span>
<a name="l00241"></a>00241 <span class="preprocessor">}</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>
<a name="l00245"></a><a class="code" href="cairo-dock-applet-facility_8h.html#574b5f070d39b7b69297a9d7ad4afe1d">00245</a> <span class="preprocessor">#define CD_APPLET_CONFIG_H \</span>
<a name="l00246"></a>00246 <span class="preprocessor">void read_conf_file (gchar *cConfFilePath, int *iWidth, int *iHeight, gchar **cAppletName, gchar **cIconName);</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span>
<a name="l00255"></a><a class="code" href="cairo-dock-applet-facility_8h.html#95c375ab4085afa56c98f76e1a2177cd">00255</a> <span class="preprocessor">#define CD_CONFIG_GET_BOOLEAN_WITH_DEFAULT(cGroupName, cKeyName, bDefaultValue) cairo_dock_get_boolean_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, bDefaultValue, NULL, NULL)</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span>
<a name="l00263"></a><a class="code" href="cairo-dock-applet-facility_8h.html#6b8a301a18e1732b94738e3a2d6f34e5">00263</a> <span class="preprocessor">#define CD_CONFIG_GET_BOOLEAN(cGroupName, cKeyName) \</span>
<a name="l00264"></a>00264 <span class="preprocessor">CD_CONFIG_GET_BOOLEAN_WITH_DEFAULT (cGroupName, cKeyName, TRUE)</span>
<a name="l00265"></a>00265 <span class="preprocessor"></span>
<a name="l00273"></a><a class="code" href="cairo-dock-applet-facility_8h.html#bb390d5fc6bfa9c4cf01ae3f689b2d9b">00273</a> <span class="preprocessor">#define CD_CONFIG_GET_INTEGER_WITH_DEFAULT(cGroupName, cKeyName, iDefaultValue) cairo_dock_get_integer_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, iDefaultValue, NULL, NULL)</span>
<a name="l00274"></a>00274 <span class="preprocessor"></span>
<a name="l00280"></a><a class="code" href="cairo-dock-applet-facility_8h.html#2e965a54c8fb32344f983b8ee6fb8762">00280</a> <span class="preprocessor">#define CD_CONFIG_GET_INTEGER(cGroupName, cKeyName)CD_CONFIG_GET_INTEGER_WITH_DEFAULT (cGroupName, cKeyName, 0)</span>
<a name="l00281"></a>00281 <span class="preprocessor"></span>
<a name="l00289"></a><a class="code" href="cairo-dock-applet-facility_8h.html#4695f5ea7a22882b73b5205cdfdf2e29">00289</a> <span class="preprocessor">#define CD_CONFIG_GET_DOUBLE_WITH_DEFAULT(cGroupName, cKeyName, fDefaultValue) cairo_dock_get_double_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, 0., NULL, NULL)</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>
<a name="l00296"></a><a class="code" href="cairo-dock-applet-facility_8h.html#243a6fc7b950aafaf578049db5dc4e65">00296</a> <span class="preprocessor">#define CD_CONFIG_GET_DOUBLE(cGroupName, cKeyName) CD_CONFIG_GET_DOUBLE_WITH_DEFAULT (cGroupName, cKeyName, 0.)</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span>
<a name="l00305"></a><a class="code" href="cairo-dock-applet-facility_8h.html#7857724f089eefd0ab85a5a676417a35">00305</a> <span class="preprocessor">#define CD_CONFIG_GET_STRING_WITH_DEFAULT(cGroupName, cKeyName, cDefaultValue) cairo_dock_get_string_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, cDefaultValue, NULL, NULL)</span>
<a name="l00306"></a>00306 <span class="preprocessor"></span>
<a name="l00312"></a><a class="code" href="cairo-dock-applet-facility_8h.html#31acb378f798104e855a44797fdfbea8">00312</a> <span class="preprocessor">#define CD_CONFIG_GET_STRING(cGroupName, cKeyName) CD_CONFIG_GET_STRING_WITH_DEFAULT (cGroupName, cKeyName, NULL)</span>
<a name="l00313"></a>00313 <span class="preprocessor"></span>
<a name="l00322"></a><a class="code" href="cairo-dock-applet-facility_8h.html#42fc7314fe53430bdf0e766f634a185e">00322</a> <span class="preprocessor">#define CD_CONFIG_GET_STRING_LIST_WITH_DEFAULT(cGroupName, cKeyName, length, cDefaultValues) cairo_dock_get_string_list_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, length, cDefaultValues, NULL, NULL)</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span>
<a name="l00330"></a><a class="code" href="cairo-dock-applet-facility_8h.html#75d95869a2430ba771874f7950f7770d">00330</a> <span class="preprocessor">#define CD_CONFIG_GET_STRING_LIST(cGroupName, cKeyName, length) CD_CONFIG_GET_STRING_LIST_WITH_DEFAULT(cGroupName, cKeyName, length, NULL)</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span>
<a name="l00339"></a><a class="code" href="cairo-dock-applet-facility_8h.html#0d7676c29cbefba6155a2198b19d94a6">00339</a> <span class="preprocessor">#define CD_CONFIG_GET_ANIMATION_WITH_DEFAULT(cGroupName, cKeyName, iDefaultAnimation) cairo_dock_get_animation_type_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, iDefaultAnimation, NULL, NULL);</span>
<a name="l00340"></a>00340 <span class="preprocessor"></span>
<a name="l00346"></a><a class="code" href="cairo-dock-applet-facility_8h.html#47051bfe4ada4041bc5967bad2265050">00346</a> <span class="preprocessor">#define CD_CONFIG_GET_ANIMATION(cGroupName, cKeyName) CD_CONFIG_GET_ANIMATION_WITH_DEFAULT(cGroupName, cKeyName, CAIRO_DOCK_BOUNCE)</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span>
<a name="l00355"></a><a class="code" href="cairo-dock-applet-facility_8h.html#36db893eed656ef167f47ab43a2285d1">00355</a> <span class="preprocessor">#define CD_CONFIG_GET_COLOR_WITH_DEFAULT(cGroupName, cKeyName, pColorBuffer, pDefaultColor) cairo_dock_get_double_list_key_value (pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, pColorBuffer, 4, pDefaultColor, NULL, NULL);</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span>
<a name="l00362"></a><a class="code" href="cairo-dock-applet-facility_8h.html#483d0330c1c8768ba433780b81fca204">00362</a> <span class="preprocessor">#define CD_CONFIG_GET_COLOR(cGroupName, cKeyName, pColorBuffer) CD_CONFIG_GET_COLOR_WITH_DEFAULT(cGroupName, cKeyName, pColorBuffer, NULL)</span>
<a name="l00363"></a>00363 <span class="preprocessor"></span>
<a name="l00372"></a><a class="code" href="cairo-dock-applet-facility_8h.html#0a4da143164434e0da5f414b4f32e820">00372</a> <span class="preprocessor">#define CD_CONFIG_GET_THEME_PATH(cGroupName, cKeyName, cThemesDirName, cDefaultThemeName) \</span>
<a name="l00373"></a>00373 <span class="preprocessor">cairo_dock_manage_themes_for_applet (MY_APPLET_SHARE_DATA_DIR, cThemesDirName, CD_APPLET_MY_CONF_FILE, pKeyFile, cGroupName, cKeyName, &amp;bFlushConfFileNeeded, cDefaultThemeName)</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span>
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 <span class="comment">//\_________________________________ NOTIFICATIONS</span>
<a name="l00377"></a>00377 <span class="comment">//\______________________ fonction about.</span>
<a name="l00382"></a><a class="code" href="cairo-dock-applet-facility_8h.html#91dc25bf8fcc3ea429f93bf16a734bbf">00382</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_ABOUT(cMessage) \</span>
<a name="l00383"></a>00383 <span class="preprocessor">void about (GtkMenuItem *menu_item, gpointer *data) \</span>
<a name="l00384"></a>00384 <span class="preprocessor">{ \</span>
<a name="l00385"></a>00385 <span class="preprocessor">        cairo_dock_show_temporary_dialog (cMessage, myIcon, myDock, 0); \</span>
<a name="l00386"></a>00386 <span class="preprocessor">}</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>
<a name="l00390"></a><a class="code" href="cairo-dock-applet-facility_8h.html#9ecdbd793978883dbc2cc90954a6c15c">00390</a> <span class="preprocessor">#define CD_APPLET_ABOUT_H \</span>
<a name="l00391"></a>00391 <span class="preprocessor">void about (GtkMenuItem *menu_item, gpointer *data);</span>
<a name="l00392"></a>00392 <span class="preprocessor"></span>
<a name="l00393"></a>00393 <span class="comment">//\______________________ notification clique gauche.</span>
<a name="l00394"></a><a class="code" href="cairo-dock-applet-facility_8h.html#9c7eb1af8133468449966a63fd0d3beb">00394</a> <span class="preprocessor">#define CD_APPLET_ON_CLICK action_on_click</span>
<a name="l00395"></a>00395 <span class="preprocessor"></span>
<a name="l00398"></a><a class="code" href="cairo-dock-applet-facility_8h.html#9af4f412c90f432476994e97b7a6869c">00398</a> <span class="preprocessor">#define CD_APPLET_REGISTER_FOR_CLICK_EVENT cairo_dock_register_notification (CAIRO_DOCK_CLICK_ICON, (CairoDockNotificationFunc) CD_APPLET_ON_CLICK, CAIRO_DOCK_RUN_FIRST);</span>
<a name="l00399"></a>00399 <span class="preprocessor"></span>
<a name="l00402"></a><a class="code" href="cairo-dock-applet-facility_8h.html#36334807d26aedafc981900a6fa02e92">00402</a> <span class="preprocessor">#define CD_APPLET_UNREGISTER_FOR_CLICK_EVENT cairo_dock_remove_notification_func (CAIRO_DOCK_CLICK_ICON, (CairoDockNotificationFunc) CD_APPLET_ON_CLICK);</span>
<a name="l00403"></a>00403 <span class="preprocessor"></span>
<a name="l00407"></a><a class="code" href="cairo-dock-applet-facility_8h.html#2eb08b1e3af8ab407081b9e49bb03773">00407</a> <span class="preprocessor">#define CD_APPLET_ON_CLICK_BEGIN \</span>
<a name="l00408"></a>00408 <span class="preprocessor">gboolean CD_APPLET_ON_CLICK (gpointer *data) \</span>
<a name="l00409"></a>00409 <span class="preprocessor">{ \</span>
<a name="l00410"></a>00410 <span class="preprocessor">        if (data[0] == myIcon) \</span>
<a name="l00411"></a>00411 <span class="preprocessor">        {</span>
<a name="l00412"></a>00412 <span class="preprocessor"></span>
<a name="l00415"></a><a class="code" href="cairo-dock-applet-facility_8h.html#c2663e8afce516ba24298335fd8d9e9f">00415</a> <span class="preprocessor">#define CD_APPLET_ON_CLICK_END \</span>
<a name="l00416"></a>00416 <span class="preprocessor">                return CAIRO_DOCK_INTERCEPT_NOTIFICATION; \</span>
<a name="l00417"></a>00417 <span class="preprocessor">        } \</span>
<a name="l00418"></a>00418 <span class="preprocessor">        return CAIRO_DOCK_LET_PASS_NOTIFICATION; \</span>
<a name="l00419"></a>00419 <span class="preprocessor">}</span>
<a name="l00420"></a>00420 <span class="preprocessor"></span>
<a name="l00423"></a><a class="code" href="cairo-dock-applet-facility_8h.html#19996a83c4fcc1d371cacca30a920adb">00423</a> <span class="preprocessor">#define CD_APPLET_ON_CLICK_H \</span>
<a name="l00424"></a>00424 <span class="preprocessor">gboolean CD_APPLET_ON_CLICK (gpointer *data);</span>
<a name="l00425"></a>00425 <span class="preprocessor"></span>
<a name="l00426"></a>00426 <span class="comment">//\______________________ notification construction menu.</span>
<a name="l00427"></a><a class="code" href="cairo-dock-applet-facility_8h.html#30942d93b6a087bdf61d47ebcb6da382">00427</a> <span class="preprocessor">#define CD_APPLET_ON_BUILD_MENU applet_on_build_menu</span>
<a name="l00428"></a>00428 <span class="preprocessor"></span>
<a name="l00431"></a><a class="code" href="cairo-dock-applet-facility_8h.html#f1834e58d8a9ba1d50ae3417bcd51d5e">00431</a> <span class="preprocessor">#define CD_APPLET_REGISTER_FOR_BUILD_MENU_EVENT cairo_dock_register_notification (CAIRO_DOCK_BUILD_MENU, (CairoDockNotificationFunc) CD_APPLET_ON_BUILD_MENU, CAIRO_DOCK_RUN_FIRST);</span>
<a name="l00432"></a>00432 <span class="preprocessor"></span>
<a name="l00435"></a><a class="code" href="cairo-dock-applet-facility_8h.html#94ab7b0c147a901a15965dec8afb1271">00435</a> <span class="preprocessor">#define CD_APPLET_UNREGISTER_FOR_BUILD_MENU_EVENT cairo_dock_remove_notification_func (CAIRO_DOCK_BUILD_MENU, (CairoDockNotificationFunc) CD_APPLET_ON_BUILD_MENU);</span>
<a name="l00436"></a>00436 <span class="preprocessor"></span>
<a name="l00440"></a><a class="code" href="cairo-dock-applet-facility_8h.html#8e443df867d9bd2f31fa2c7d6e838366">00440</a> <span class="preprocessor">#define CD_APPLET_ON_BUILD_MENU_BEGIN \</span>
<a name="l00441"></a>00441 <span class="preprocessor">gboolean CD_APPLET_ON_BUILD_MENU (gpointer *data) \</span>
<a name="l00442"></a>00442 <span class="preprocessor">{ \</span>
<a name="l00443"></a>00443 <span class="preprocessor">        if (data[0] == myIcon) \</span>
<a name="l00444"></a>00444 <span class="preprocessor">        { \</span>
<a name="l00445"></a>00445 <span class="preprocessor">                GtkWidget *pAppletMenu = data[2]; \</span>
<a name="l00446"></a>00446 <span class="preprocessor">                GtkWidget *pMenuItem;</span>
<a name="l00447"></a>00447 <span class="preprocessor"></span>
<a name="l00450"></a><a class="code" href="cairo-dock-applet-facility_8h.html#63c9821be62eb58904c2fd836a3570d1">00450</a> <span class="preprocessor">#define CD_APPLET_ON_BUILD_MENU_END \</span>
<a name="l00451"></a>00451 <span class="preprocessor">        } \</span>
<a name="l00452"></a>00452 <span class="preprocessor">        return CAIRO_DOCK_LET_PASS_NOTIFICATION; \</span>
<a name="l00453"></a>00453 <span class="preprocessor">}</span>
<a name="l00454"></a>00454 <span class="preprocessor"></span>
<a name="l00457"></a><a class="code" href="cairo-dock-applet-facility_8h.html#4a3a795531ece3caa4afc0479e3fced2">00457</a> <span class="preprocessor">#define CD_APPLET_ON_BUILD_MENU_H \</span>
<a name="l00458"></a>00458 <span class="preprocessor">gboolean CD_APPLET_ON_BUILD_MENU (gpointer *data);</span>
<a name="l00459"></a>00459 <span class="preprocessor"></span>
<a name="l00463"></a><a class="code" href="cairo-dock-applet-facility_8h.html#4f2ba1855e4b676071edc59d620745e9">00463</a> <span class="preprocessor">#define CD_APPLET_MY_MENU pAppletMenu</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span>
<a name="l00471"></a><a class="code" href="cairo-dock-applet-facility_8h.html#e91a84a943cabe89554980dad37ecec6">00471</a> <span class="preprocessor">#define CD_APPLET_ADD_SUB_MENU(cLabel, pSubMenu, pMenu) \</span>
<a name="l00472"></a>00472 <span class="preprocessor">        GtkWidget *pSubMenu = gtk_menu_new (); \</span>
<a name="l00473"></a>00473 <span class="preprocessor">        pMenuItem = gtk_menu_item_new_with_label (cLabel); \</span>
<a name="l00474"></a>00474 <span class="preprocessor">        gtk_menu_shell_append  (GTK_MENU_SHELL (pMenu), pMenuItem); \</span>
<a name="l00475"></a>00475 <span class="preprocessor">        gtk_menu_item_set_submenu (GTK_MENU_ITEM (pMenuItem), pSubMenu);</span>
<a name="l00476"></a>00476 <span class="preprocessor"></span>
<a name="l00483"></a><a class="code" href="cairo-dock-applet-facility_8h.html#1ffb7b201e9530cd055ce60c5fb1240c">00483</a> <span class="preprocessor">#define CD_APPLET_CREATE_AND_ADD_SUB_MENU(cLabel, pMenu) \</span>
<a name="l00484"></a>00484 <span class="preprocessor">cairo_dock_create_sub_menu (cLabel, pMenu);</span>
<a name="l00485"></a>00485 <span class="preprocessor"></span>
<a name="l00493"></a><a class="code" href="cairo-dock-applet-facility_8h.html#cd7a761ad1f57c8462bdd44a6d25cc0f">00493</a> <span class="preprocessor">#define CD_APPLET_ADD_IN_MENU_WITH_DATA(cLabel, pFunction, pMenu, pData) \</span>
<a name="l00494"></a>00494 <span class="preprocessor">        pMenuItem = gtk_menu_item_new_with_label (cLabel); \</span>
<a name="l00495"></a>00495 <span class="preprocessor">        gtk_menu_shell_append  (GTK_MENU_SHELL (pMenu), pMenuItem); \</span>
<a name="l00496"></a>00496 <span class="preprocessor">        g_signal_connect (G_OBJECT (pMenuItem), "activate", G_CALLBACK (pFunction), pData);</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span>
<a name="l00504"></a><a class="code" href="cairo-dock-applet-facility_8h.html#94e4e5dcb6b22218816bf0591be6ecf7">00504</a> <span class="preprocessor">#define CD_APPLET_ADD_IN_MENU(cLabel, pFunction, pMenu) CD_APPLET_ADD_IN_MENU_WITH_DATA(cLabel, pFunction, pMenu, NULL)</span>
<a name="l00505"></a>00505 <span class="preprocessor"></span>
<a name="l00510"></a><a class="code" href="cairo-dock-applet-facility_8h.html#fa27706cd0b1a11837c7ea0b5118b546">00510</a> <span class="preprocessor">#define CD_APPLET_ADD_ABOUT_IN_MENU(pMenu) CD_APPLET_ADD_IN_MENU (_("About"), about, pMenu)</span>
<a name="l00511"></a>00511 <span class="preprocessor"></span>
<a name="l00516"></a><a class="code" href="cairo-dock-applet-facility_8h.html#06ac357be5e2d95a15f417c185383ec2">00516</a> <span class="preprocessor">#define CD_APPLET_LAST_ITEM_IN_MENU pMenuItem</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>
<a name="l00518"></a>00518 <span class="comment">//\______________________ notification clique milieu.</span>
<a name="l00519"></a><a class="code" href="cairo-dock-applet-facility_8h.html#efd535bf7b831118204cd656d6877e6b">00519</a> <span class="preprocessor">#define CD_APPLET_ON_MIDDLE_CLICK action_on_middle_click</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span>
<a name="l00523"></a><a class="code" href="cairo-dock-applet-facility_8h.html#ba2fd37338b6b37e1f216fccc81d8a3a">00523</a> <span class="preprocessor">#define CD_APPLET_REGISTER_FOR_MIDDLE_CLICK_EVENT cairo_dock_register_notification (CAIRO_DOCK_MIDDLE_CLICK_ICON, (CairoDockNotificationFunc) CD_APPLET_ON_MIDDLE_CLICK, CAIRO_DOCK_RUN_FIRST);</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>
<a name="l00527"></a><a class="code" href="cairo-dock-applet-facility_8h.html#1ff10307b589b0d35818e7968453ed86">00527</a> <span class="preprocessor">#define CD_APPLET_UNREGISTER_FOR_MIDDLE_CLICK_EVENT cairo_dock_remove_notification_func (CAIRO_DOCK_MIDDLE_CLICK_ICON, (CairoDockNotificationFunc) CD_APPLET_ON_MIDDLE_CLICK);</span>
<a name="l00528"></a>00528 <span class="preprocessor"></span>
<a name="l00532"></a><a class="code" href="cairo-dock-applet-facility_8h.html#7a07d8ba50630038278f0ce0c59c3e98">00532</a> <span class="preprocessor">#define CD_APPLET_ON_MIDDLE_CLICK_BEGIN \</span>
<a name="l00533"></a>00533 <span class="preprocessor">gboolean CD_APPLET_ON_MIDDLE_CLICK (gpointer *data) \</span>
<a name="l00534"></a>00534 <span class="preprocessor">{ \</span>
<a name="l00535"></a>00535 <span class="preprocessor">        if (data[0] == myIcon) \</span>
<a name="l00536"></a>00536 <span class="preprocessor">        {</span>
<a name="l00537"></a>00537 <span class="preprocessor"></span>
<a name="l00540"></a><a class="code" href="cairo-dock-applet-facility_8h.html#d0d650fcb60c1ed1454013d2de00469b">00540</a> <span class="preprocessor">#define CD_APPLET_ON_MIDDLE_CLICK_END \</span>
<a name="l00541"></a>00541 <span class="preprocessor">                return CAIRO_DOCK_INTERCEPT_NOTIFICATION; \</span>
<a name="l00542"></a>00542 <span class="preprocessor">        } \</span>
<a name="l00543"></a>00543 <span class="preprocessor">        return CAIRO_DOCK_LET_PASS_NOTIFICATION; \</span>
<a name="l00544"></a>00544 <span class="preprocessor">}</span>
<a name="l00545"></a>00545 <span class="preprocessor"></span>
<a name="l00548"></a><a class="code" href="cairo-dock-applet-facility_8h.html#a1542215d48f4c5e1bf38db968b20b28">00548</a> <span class="preprocessor">#define CD_APPLET_ON_MIDDLE_CLICK_H \</span>
<a name="l00549"></a>00549 <span class="preprocessor">gboolean CD_APPLET_ON_MIDDLE_CLICK (gpointer *data);</span>
<a name="l00550"></a>00550 <span class="preprocessor"></span>
<a name="l00551"></a>00551 <span class="comment">//\_________________________________ DESSIN</span>
<a name="l00556"></a><a class="code" href="cairo-dock-applet-facility_8h.html#10a311556476929ac354cc45923fc9b2">00556</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_SET_SURFACE_ON_MY_ICON(pSurface) \</span>
<a name="l00557"></a>00557 <span class="preprocessor">        cairo_dock_set_icon_surface_with_reflect (myDrawContext, pSurface, myIcon, myDock); \</span>
<a name="l00558"></a>00558 <span class="preprocessor">        cairo_dock_redraw_my_icon (myIcon, myDock);</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>
<a name="l00564"></a><a class="code" href="cairo-dock-applet-facility_8h.html#057c6cc5e55a0f84a8117492237f7a20">00564</a> <span class="preprocessor">#define CD_APPLET_SET_IMAGE_ON_MY_ICON(cImagePath) \</span>
<a name="l00565"></a>00565 <span class="preprocessor">        cairo_dock_set_image_on_icon (myDrawContext, cImagePath, myIcon, myDock);</span>
<a name="l00566"></a>00566 <span class="preprocessor"></span>
<a name="l00571"></a><a class="code" href="cairo-dock-applet-facility_8h.html#fef845209619728708968e3ca885c320">00571</a> <span class="preprocessor">#define CD_APPLET_SET_NAME_FOR_MY_ICON(cIconName) \</span>
<a name="l00572"></a>00572 <span class="preprocessor">        cairo_dock_set_icon_name (myDrawContext, cIconName, myIcon, myDock);</span>
<a name="l00573"></a>00573 <span class="preprocessor"></span>
<a name="l00578"></a><a class="code" href="cairo-dock-applet-facility_8h.html#cee7aad8315a5ba345d7a3dbf3bff6d4">00578</a> <span class="preprocessor">#define CD_APPLET_SET_QUICK_INFO_ON_MY_ICON(cQuickInfo) \</span>
<a name="l00579"></a>00579 <span class="preprocessor">        cairo_dock_set_quick_info (myDrawContext, cQuickInfo, myIcon);\</span>
<a name="l00580"></a>00580 <span class="preprocessor">        cairo_dock_redraw_my_icon (myIcon, myDock);</span>
<a name="l00581"></a>00581 <span class="preprocessor"></span>
<a name="l00587"></a><a class="code" href="cairo-dock-applet-facility_8h.html#77297cbfe3802d03468009730d41baab">00587</a> <span class="preprocessor">#define CD_APPLET_ANIMATE_MY_ICON(iAnimationType, iAnimationLength) \</span>
<a name="l00588"></a>00588 <span class="preprocessor">        cairo_dock_animate_icon (myIcon, myDock, iAnimationType, iAnimationLength);</span>
<a name="l00589"></a>00589 <span class="preprocessor"></span>
<a name="l00595"></a><a class="code" href="cairo-dock-applet-facility_8h.html#dd457f2634017f0dc47ca9552658315d">00595</a> <span class="preprocessor">#define CD_APPLET_LOAD_SURFACE_FOR_MY_APPLET(cImagePath) cairo_dock_create_surface_for_icon (cImagePath, myDrawContext, myIcon-&gt;fWidth * (1 + g_fAmplitude), myIcon-&gt;fHeight* (1 + g_fAmplitude));</span>
<a name="l00596"></a>00596 <span class="preprocessor"></span>
<a name="l00597"></a>00597 <span class="comment">//\_________________________________ INCLUDE</span>
<a name="l00601"></a><a class="code" href="cairo-dock-applet-facility_8h.html#54bf4c3900274a7d9bc31c0bddec0e82">00601</a> <span class="comment"></span><span class="preprocessor">#define CD_APPLET_INCLUDE_MY_VARS \</span>
<a name="l00602"></a>00602 <span class="preprocessor">extern Icon *myIcon; \</span>
<a name="l00603"></a>00603 <span class="preprocessor">extern cairo_t *myDrawContext; \</span>
<a name="l00604"></a>00604 <span class="preprocessor">extern CairoDock *myDock;</span>
<a name="l00605"></a>00605 <span class="preprocessor"></span>
<a name="l00606"></a>00606 <span class="comment">//\_________________________________ INTERNATIONNALISATION</span>
<a name="l00610"></a><a class="code" href="cairo-dock-applet-facility_8h.html#853da7a2be9f4ed76a59d825c56456b3">00610</a> <span class="comment"></span><span class="preprocessor">#define _D(message) dgettext (MY_APPLET_GETTEXT_DOMAIN, message)</span>
<a name="l00611"></a>00611 <span class="preprocessor"></span>
<a name="l00612"></a>00612 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Généré le Fri Jan 4 20:22:13 2008 pour Cairo-Dock par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
